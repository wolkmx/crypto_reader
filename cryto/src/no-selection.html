<template>
  <require from="./number-format"></require>
  <h3 class="cover-heading">Select your CryptoCurrency</h3>
  <p>To obtain real-time information, select your currency and optionally enter the update time (in minutes) to search for new values.</p>
  <p class="lead">
    <select value.bind="selectedCurrencyId" change.delegate="getInfo()">
      <option model.bind="null">Choose...</option>
      <option repeat.for="currency of currencies"
              model.bind="currency">
        ${currency.name}
      </option>
    </select>
  </p>
  <div class="container">
    <div class="row">
      <div class="col-xs-1">Seconds to update the price in minutes: </div><div class="col-xs-1"><input type="text" change.delegate="updateTime()" value.bind="minutes | numberFormat"></div>
    </div>
    <div class="row">
      <p class="lead">
        <a href="#" class="btn btn-lg btn-secondary" click.trigger="getInfo()">Get Info</a>
        <a href="#" class="btn btn-lg btn-secondary" click.trigger="clearInterval()">Clear Interval</a>
      </p>
    </div>
    <div class="row" show.bind="priceInfo">
      <h2>The price for ${selectedCurrencyId.name} is ${price} and the current market cap is ${marketCap}</h2>
    </div>
  </div>
</template>
